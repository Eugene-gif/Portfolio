(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(t){if(t.ep)return;t.ep=!0;const c=r(t);fetch(t.href,c)}})();const S=async function(e){try{return await(await fetch(e)).json()}catch(o){console.log(o)}},k="https://raw.githubusercontent.com/Eugene-gif/data/main/Portfolio/projects.json",u=[],q=async()=>{const e=await S(k);if(!e)throw Error;e.forEach(o=>u.push(o))},w=h(".header__menu-btn input"),m=h(".overlay"),L=h(".nav");function h(e){const o=document.querySelector(e);if(!o)throw Error("Ошибка ноды!");return o}function E(){m.classList.toggle("_show"),L.classList.toggle("_show"),document.body.classList.toggle("_lock")}function p(){w.checked=!1,m.classList.remove("_show"),L.classList.remove("_show"),document.body.classList.remove("_lock")}w.addEventListener("input",E);m.addEventListener("click",p);function b(e,o,r){e.addEventListener("click",s=>{let t=document.querySelector("._show._page"),c=document.querySelector(".nav__item._active"),a=s.target.closest(".nav__item");if(!c||!t||!a)throw Error("Нет ноды!");t.classList.remove("_show"),o.classList.add("_show"),c.classList.remove("_active"),a.classList.add("_active"),localStorage.setItem("page",o.id),setTimeout(()=>{window.scrollTo(0,0)},30),r()})}function P(e,o,r){let s=document.querySelector(".mask"),t=document.querySelector(".nav__item._active"),c=document.querySelector("._page._show"),n=window.location.hash.slice(1);r(),s.classList.add("hide");for(let a=0;a<e.length;a++){let l=e[a].closest(".nav__item");if(!l)throw Error("Ошибка типа link!");let i=o[a];n===i.id?(c.classList.remove("_show"),i.classList.add("_show"),t.classList.remove("_active"),l.classList.add("_active"),localStorage.setItem("page",i.id)):n||(window.location.hash="#home",localStorage.setItem("page","home"))}setTimeout(()=>{s.remove()},500)}function j(){const e=document.querySelector("[data-theme]");if(!e)throw Error("Нет ноды!");localStorage.getItem("theme")==="dark"&&(e.dataset.theme="dark",document.body.classList.add("dark"));function o(){if(!e)throw Error("Нет ноды!");const r=localStorage.getItem("theme");(r===null||r==="light")&&(e.dataset.theme="dark",document.body.classList.add("dark"),localStorage.setItem("theme","dark")),r==="dark"&&(e.dataset.theme="light",document.body.classList.remove("dark"),localStorage.setItem("theme","light"))}e.addEventListener("click",o)}document.querySelector(".mask");const d=document.querySelectorAll(".nav__item a"),f=document.querySelectorAll("._page"),g=document.querySelector(".home__btn"),_=document.querySelector(".catalog__btn"),y=document.querySelector("._follow-home"),I=document.querySelector(".home__list"),T=document.querySelector(".catalog__list"),v=(e,o)=>{const r=document.querySelector("#card");if(r===null)throw Error("temp пуст");let s=r.content.querySelector(".card");const t=s.querySelector(".card__title"),c=s.querySelector(".card__description"),n=s.querySelector(".card__img img"),a=s.querySelector(".project");e.forEach(l=>{t.textContent=l.name,c.textContent=l.text,n.setAttribute("src",l.img),a.setAttribute("href",l.urlProject),s=r.content.cloneNode(!0),o.append(s)})},O=()=>{console.log("Привет из TS!")};O();window.addEventListener("load",async()=>{await q(),await v(u.slice(0,2),I),await v(u,T);for(let e=0;e<d.length;e++)b(d[e],f[e],p);P(d,f,j),y&&g&&_&&(y.addEventListener("click",()=>{document.querySelector(".nav__item [data-link='home']").click()}),g.addEventListener("click",()=>{document.querySelector(".nav__item [data-link='catalog']").click()}),_.addEventListener("click",()=>{document.querySelector(".nav__item [data-link='contacts']").click()}))});
