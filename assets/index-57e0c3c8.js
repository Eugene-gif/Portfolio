(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const w=async function(e){try{return await(await fetch(e)).json()}catch(o){console.log(o)}},L="https://raw.githubusercontent.com/Eugene-gif/data/main/Portfolio/projects.json",u=[],v=async()=>{const e=await w(L);if(!e)throw Error;e.forEach(o=>u.push(o))},_=h(".header__menu-btn input"),m=h(".overlay"),y=h(".nav");function h(e){const o=document.querySelector(e);if(!o)throw Error("Ошибка ноды!");return o}function S(){m.classList.toggle("_show"),y.classList.toggle("_show"),document.body.classList.toggle("_lock")}function p(){_.checked=!1,m.classList.remove("_show"),y.classList.remove("_show"),document.body.classList.remove("_lock")}_.addEventListener("input",S);m.addEventListener("click",p);function q(e,o,s){e.addEventListener("click",c=>{let t=document.querySelector("._show._page"),r=document.querySelector(".nav__item._active"),a=c.target.closest(".nav__item");if(!r||!t||!a)throw Error("Нет ноды!");t.classList.remove("_show"),o.classList.add("_show"),r.classList.remove("_active"),a.classList.add("_active"),localStorage.setItem("page",o.id),setTimeout(()=>{window.scrollTo(0,0)},30),s()})}function b(e,o,s){let c=document.querySelector(".mask"),t=document.querySelector(".nav__item._active"),r=document.querySelector("._page._show"),n=window.location.hash.slice(1);s(),c.classList.add("hide");for(let a=0;a<e.length;a++){let i=e[a].closest(".nav__item");if(!i)throw Error("Ошибка типа link!");let l=o[a];n===l.id?(r.classList.remove("_show"),l.classList.add("_show"),t.classList.remove("_active"),i.classList.add("_active"),localStorage.setItem("page",l.id)):n||(window.location.hash="#home",localStorage.setItem("page","home"))}setTimeout(()=>{c.remove()},500)}function k(){const e=document.querySelector(".theme-btn #toggle");if(!e)throw Error("Нет ноды!");e.addEventListener("input",o),e.checked=!0,localStorage.getItem("theme")==="dark"&&(e.checked=!1,document.body.classList.add("dark"));function o(){if(!e)throw Error("Нет ноды!");e.checked?(localStorage.setItem("theme","light"),document.body.classList.remove("dark")):(localStorage.setItem("theme","dark"),document.body.classList.add("dark"))}}document.querySelector(".mask");const d=document.querySelectorAll(".nav__item a"),f=document.querySelectorAll("._page");document.querySelector(".home__btn");document.querySelector(".catalog__btn");document.querySelector("._follow-home");const E=document.querySelector(".home__list"),P=document.querySelector(".catalog__list"),g=(e,o)=>{const s=document.querySelector("#card");if(s===null)throw Error("temp пуст");let c=s.content.querySelector(".card");const t=c.querySelector(".card__title"),r=c.querySelector(".card__description"),n=c.querySelector(".card__img img"),a=c.querySelector(".project");e.forEach(i=>{t.textContent=i.name,r.textContent=i.text,n.setAttribute("src",i.img),a.setAttribute("href",i.urlProject),c=s.content.cloneNode(!0),o.append(c)})},j=()=>{console.log("Привет из TS!")};j();window.addEventListener("load",async()=>{await v(),await g(u.slice(0,2),E),await g(u,P);for(let e=0;e<d.length;e++)q(d[e],f[e],p);b(d,f,k)});
